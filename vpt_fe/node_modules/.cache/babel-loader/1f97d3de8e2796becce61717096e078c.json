{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\AAAA\\\\Desktop\\\\corso\\\\videogames_price_tracker\\\\vpt_fe\\\\src\\\\pages\\\\watchListPage\\\\watchListPage.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\";\nimport Footer from \"../../components/footer/footer\";\nimport Navbar from \"../../components/navbar/navbar\";\nimport WatchListItem from \"../../components/watchListItem/watchListItem\";\nimport './watchListPage.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst WatchListPage = _ref => {\n  _s();\n\n  let {\n    user = false,\n    setUser = () => {},\n    navbarSearch = () => {}\n  } = _ref;\n  const [watchList, setWatchList] = useState([]);\n  const [noGames, setNoGames] = useState(\"none\");\n  useEffect(() => {\n    const watchList = [];\n    let responseCounter = 0;\n    let responseExpected = user.userList.length;\n\n    for (const item of user.userList) {\n      fetch(\"http://localhost:8081/videogame?id=\" + item.videogameId).then(response => response.json()).then(responseJSON => {\n        watchList.push(responseJSON);\n        responseCounter++;\n\n        if (responseCounter == responseExpected) {\n          setWatchList(watchList);\n          if (watchList.length === 0) setNoGames(\"block\");\n        }\n      });\n    }\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {\n      user: user,\n      setUser: setUser,\n      navbarSearch: navbarSearch\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"watchlist-message\",\n      children: \"You will receive a notification when the price for the game in your watchlist will drop.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: noGames\n      },\n      children: \"Add games to receive a notification\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"watchList-container\",\n      children: watchList.map(game => /*#__PURE__*/_jsxDEV(WatchListItem, {\n        game: game\n      }, game.title, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 36\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n};\n\n_s(WatchListPage, \"BQ51LyOFdRC2tdTf/oAlwil7F90=\");\n\n_c = WatchListPage;\nexport default WatchListPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"WatchListPage\");","map":{"version":3,"names":["useState","useEffect","Footer","Navbar","WatchListItem","WatchListPage","user","setUser","navbarSearch","watchList","setWatchList","noGames","setNoGames","responseCounter","responseExpected","userList","length","item","fetch","videogameId","then","response","json","responseJSON","push","display","map","game","title"],"sources":["C:/Users/AAAA/Desktop/corso/videogames_price_tracker/vpt_fe/src/pages/watchListPage/watchListPage.js"],"sourcesContent":["import { useState, useEffect } from \"react\"\r\nimport Footer from \"../../components/footer/footer\";\r\nimport Navbar from \"../../components/navbar/navbar\"\r\nimport WatchListItem from \"../../components/watchListItem/watchListItem\";\r\n\r\nimport './watchListPage.css'\r\n\r\nconst WatchListPage = ({user = false, setUser = () => {}, navbarSearch = () => {}}) => {\r\n\r\n    const [watchList, setWatchList] = useState([]);\r\n    const [noGames, setNoGames] = useState(\"none\")\r\n\r\n    useEffect(\r\n        () => {\r\n            const watchList = [];\r\n            let responseCounter = 0;\r\n            let responseExpected = user.userList.length;\r\n            for (const item of user.userList) {\r\n                fetch(\"http://localhost:8081/videogame?id=\" + item.videogameId)\r\n                .then(response => response.json())\r\n                .then(responseJSON => {\r\n                    watchList.push(responseJSON);\r\n                    responseCounter++;\r\n                    if (responseCounter == responseExpected) {\r\n                        setWatchList(watchList);\r\n                        if (watchList.length === 0) setNoGames(\"block\")\r\n                    }\r\n                });\r\n            }\r\n\r\n        }, []\r\n    )\r\n\r\n    return (\r\n        <>\r\n        <Navbar user={user} setUser={setUser} navbarSearch={navbarSearch}/>\r\n        <div id=\"watchlist-message\">You will receive a notification when the price for the game in your watchlist will drop.</div>\r\n        <div style={{display: noGames}}>Add games to receive a notification</div>\r\n        <div id=\"watchList-container\" >\r\n            {watchList.map(game => <WatchListItem key={game.title} game={game}/>)}\r\n        </div>\r\n        <Footer />\r\n        </>\r\n\r\n    )\r\n}\r\n\r\nexport default WatchListPage;"],"mappings":";;;AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,OAAOC,MAAP,MAAmB,gCAAnB;AACA,OAAOC,MAAP,MAAmB,gCAAnB;AACA,OAAOC,aAAP,MAA0B,8CAA1B;AAEA,OAAO,qBAAP;;;;AAEA,MAAMC,aAAa,GAAG,QAAiE;EAAA;;EAAA,IAAhE;IAACC,IAAI,GAAG,KAAR;IAAeC,OAAO,GAAG,MAAM,CAAE,CAAjC;IAAmCC,YAAY,GAAG,MAAM,CAAE;EAA1D,CAAgE;EAEnF,MAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4BV,QAAQ,CAAC,EAAD,CAA1C;EACA,MAAM,CAACW,OAAD,EAAUC,UAAV,IAAwBZ,QAAQ,CAAC,MAAD,CAAtC;EAEAC,SAAS,CACL,MAAM;IACF,MAAMQ,SAAS,GAAG,EAAlB;IACA,IAAII,eAAe,GAAG,CAAtB;IACA,IAAIC,gBAAgB,GAAGR,IAAI,CAACS,QAAL,CAAcC,MAArC;;IACA,KAAK,MAAMC,IAAX,IAAmBX,IAAI,CAACS,QAAxB,EAAkC;MAC9BG,KAAK,CAAC,wCAAwCD,IAAI,CAACE,WAA9C,CAAL,CACCC,IADD,CACMC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EADlB,EAECF,IAFD,CAEMG,YAAY,IAAI;QAClBd,SAAS,CAACe,IAAV,CAAeD,YAAf;QACAV,eAAe;;QACf,IAAIA,eAAe,IAAIC,gBAAvB,EAAyC;UACrCJ,YAAY,CAACD,SAAD,CAAZ;UACA,IAAIA,SAAS,CAACO,MAAV,KAAqB,CAAzB,EAA4BJ,UAAU,CAAC,OAAD,CAAV;QAC/B;MACJ,CATD;IAUH;EAEJ,CAlBI,EAkBF,EAlBE,CAAT;EAqBA,oBACI;IAAA,wBACA,QAAC,MAAD;MAAQ,IAAI,EAAEN,IAAd;MAAoB,OAAO,EAAEC,OAA7B;MAAsC,YAAY,EAAEC;IAApD;MAAA;MAAA;MAAA;IAAA,QADA,eAEA;MAAK,EAAE,EAAC,mBAAR;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAFA,eAGA;MAAK,KAAK,EAAE;QAACiB,OAAO,EAAEd;MAAV,CAAZ;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAHA,eAIA;MAAK,EAAE,EAAC,qBAAR;MAAA,UACKF,SAAS,CAACiB,GAAV,CAAcC,IAAI,iBAAI,QAAC,aAAD;QAAgC,IAAI,EAAEA;MAAtC,GAAoBA,IAAI,CAACC,KAAzB;QAAA;QAAA;QAAA;MAAA,QAAtB;IADL;MAAA;MAAA;MAAA;IAAA,QAJA,eAOA,QAAC,MAAD;MAAA;MAAA;MAAA;IAAA,QAPA;EAAA,gBADJ;AAYH,CAtCD;;GAAMvB,a;;KAAAA,a;AAwCN,eAAeA,aAAf"},"metadata":{},"sourceType":"module"}