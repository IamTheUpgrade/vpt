{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\AAAA\\\\Desktop\\\\corso\\\\videogames_price_tracker\\\\vpt_fe\\\\src\\\\filteringAndSorting.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport './filteringAndSorting.css';\nimport FilterItem from './filterItem';\nimport Sorting from './sorting';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst FilteringAndSorting = _ref => {\n  _s();\n\n  let {\n    onChangeSorting = () => {},\n    setSearchParams = () => {},\n    searchParams = {}\n  } = _ref;\n  //window.location.href = \"http://localhost:8080/videogame/33\"\n  // const horizontalScroll = e => {\n  //     const delta = Math.max(-1, Math.min(1, (e.nativeEvent.wheelDelta || -e.nativeEvent.detail)))\n  //     e.currentTarget.scrollLeft -= (delta * 100)\n  // }\n  const [types, setTypes] = useState([]);\n  const [categories, setCategories] = useState([]);\n  const [systems, setSystems] = useState([]);\n\n  const addOrRemoveField = (filter, field) => {\n    let fieldsCopy;\n\n    if (filter === \"types\") {\n      fieldsCopy = [...types];\n\n      if (types.includes(field)) {\n        fieldsCopy = fieldsCopy.filter(n => n != field);\n        setTypes(fieldsCopy);\n      } else {\n        fieldsCopy.push(field);\n        setTypes(fieldsCopy);\n      }\n    } else if (filter === \"categories\") {\n      fieldsCopy = [...categories];\n\n      if (categories.includes(field)) {\n        fieldsCopy = fieldsCopy.filter(n => n != field);\n        setCategories(fieldsCopy);\n      } else {\n        fieldsCopy.push(field);\n        setCategories(fieldsCopy);\n      }\n    } else if (filter === \"systems\") {\n      fieldsCopy = [...systems];\n\n      if (systems.includes(field)) {\n        fieldsCopy = fieldsCopy.filter(n => n != field);\n        setSystems(fieldsCopy);\n      } else {\n        fieldsCopy.push(field);\n        setSystems(fieldsCopy);\n      }\n    }\n\n    changeUrl(filter, fieldsCopy.join());\n  };\n\n  const changeUrl = (filter, fieldsCopy) => {\n    console.log(Object.fromEntries([...searchParams]));\n    console.log({\n      [filter]: fieldsCopy\n    });\n    console.log({ ...Object.fromEntries([...searchParams]),\n      [filter]: fieldsCopy\n    });\n    if (fieldsCopy.length == 0) setSearchParams();else setSearchParams({ ...Object.fromEntries([...searchParams]),\n      [filter]: fieldsCopy\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"filter-sorting-container\"\n    /*onWheel={horizontalScroll}*/\n    ,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"filter-sorting-bar\",\n      children: [/*#__PURE__*/_jsxDEV(FilterItem, {\n        text: \"types\",\n        addOrRemoveField: addOrRemoveField\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(FilterItem, {\n        text: \"categories\",\n        addOrRemoveField: addOrRemoveField\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(FilterItem, {\n        text: \"price\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(FilterItem, {\n        text: \"discount\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(FilterItem, {\n        text: \"systems\",\n        addOrRemoveField: addOrRemoveField\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(FilterItem, {\n        text: \"release year\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"filter-sorting-item\",\n        style: {\n          whiteSpace: \"nowrap\"\n        },\n        children: \"historical low\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Sorting, {\n        onChangeSorting: onChangeSorting\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 20\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 9\n  }, this);\n};\n\n_s(FilteringAndSorting, \"mV9Gesyqjx5sVAOFo8Tt8OtepAY=\");\n\n_c = FilteringAndSorting;\nexport default FilteringAndSorting;\n\nvar _c;\n\n$RefreshReg$(_c, \"FilteringAndSorting\");","map":{"version":3,"names":["React","useEffect","useState","FilterItem","Sorting","FilteringAndSorting","onChangeSorting","setSearchParams","searchParams","types","setTypes","categories","setCategories","systems","setSystems","addOrRemoveField","filter","field","fieldsCopy","includes","n","push","changeUrl","join","console","log","Object","fromEntries","length","whiteSpace"],"sources":["C:/Users/AAAA/Desktop/corso/videogames_price_tracker/vpt_fe/src/filteringAndSorting.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\n\r\nimport './filteringAndSorting.css';\r\n\r\nimport FilterItem from './filterItem';\r\nimport Sorting from './sorting';\r\n\r\n\r\nconst FilteringAndSorting = ({onChangeSorting = () => {}, setSearchParams = () => {}, searchParams = {}}) => {\r\n\r\n    //window.location.href = \"http://localhost:8080/videogame/33\"\r\n\r\n    // const horizontalScroll = e => {\r\n    //     const delta = Math.max(-1, Math.min(1, (e.nativeEvent.wheelDelta || -e.nativeEvent.detail)))\r\n    //     e.currentTarget.scrollLeft -= (delta * 100)\r\n    // }\r\n\r\n    const [types, setTypes] = useState([]);\r\n    const [categories, setCategories] = useState([]);\r\n    const [systems, setSystems] = useState([]);\r\n\r\n    const addOrRemoveField = (filter, field) => {\r\n        let fieldsCopy;\r\n        if (filter === \"types\") {\r\n            fieldsCopy = [...types];\r\n            if (types.includes(field)) {\r\n                fieldsCopy = fieldsCopy.filter(n => n != field);\r\n                setTypes(fieldsCopy);\r\n            } else {\r\n                fieldsCopy.push(field);\r\n                setTypes(fieldsCopy);\r\n            }\r\n        } else if (filter === \"categories\") {\r\n            fieldsCopy = [...categories];\r\n            if (categories.includes(field)) {\r\n                fieldsCopy = fieldsCopy.filter(n => n != field);\r\n                setCategories(fieldsCopy);\r\n            } else {\r\n                fieldsCopy.push(field);\r\n                setCategories(fieldsCopy);\r\n            }\r\n        } else if (filter === \"systems\") {\r\n            fieldsCopy = [...systems];\r\n            if (systems.includes(field)) {\r\n                fieldsCopy = fieldsCopy.filter(n => n != field);\r\n                setSystems(fieldsCopy);\r\n            } else {\r\n                fieldsCopy.push(field);\r\n                setSystems(fieldsCopy);\r\n            }\r\n        }\r\n        changeUrl(filter, fieldsCopy.join())\r\n\r\n    }\r\n\r\n    const changeUrl = (filter, fieldsCopy) => {\r\n        console.log(Object.fromEntries([...searchParams]));\r\n        console.log({[filter]: fieldsCopy})\r\n        console.log({ ...Object.fromEntries([...searchParams]), [filter]: fieldsCopy})\r\n        if (fieldsCopy.length == 0) setSearchParams();\r\n        else setSearchParams({ ...Object.fromEntries([...searchParams]), [filter]: fieldsCopy});\r\n    }\r\n\r\n\r\n    return (\r\n        <div id='filter-sorting-container' /*onWheel={horizontalScroll}*/>\r\n\r\n            <div id='filter-sorting-bar'>\r\n\r\n                    <FilterItem text=\"types\" addOrRemoveField={addOrRemoveField}/>\r\n                    <FilterItem text=\"categories\" addOrRemoveField={addOrRemoveField}/>\r\n                    <FilterItem text=\"price\" />\r\n                    <FilterItem text=\"discount\" />\r\n                    <FilterItem text=\"systems\" addOrRemoveField={addOrRemoveField}/>\r\n                    <FilterItem text=\"release year\" />\r\n\r\n                    {/* historical low don't need a dropdown */}\r\n                    <div className='filter-sorting-item' style={{whiteSpace: \"nowrap\"}}>\r\n                        historical low\r\n                   </div>\r\n\r\n                   <Sorting onChangeSorting={onChangeSorting}/>\r\n\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default FilteringAndSorting;"],"mappings":"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"},"metadata":{},"sourceType":"module"}