{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\AAAA\\\\Desktop\\\\corso\\\\videogames_price_tracker\\\\vpt_fe\\\\src\\\\pages\\\\userPage\\\\userPage.js\",\n    _s = $RefreshSig$();\n\nimport { useState } from \"react\";\nimport { useSearchParams } from \"react-router-dom\";\nimport './userPage.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst UserPage = _ref => {\n  _s();\n\n  let {\n    setUser = () => {}\n  } = _ref;\n  let [searchParams, setSearchParams] = useSearchParams();\n  const [userEmail, setUserEmail] = useState(\"\");\n  const [userPassword, setUserPassword] = useState(\"\");\n  const [isModelDisplayed, setIsModelDisplayed] = useState(\"none\");\n\n  const emailOnChange = e => setUserEmail(e.target.value);\n\n  const passwordOnchange = e => setUserPassword(e.target.value);\n\n  const addUserOnClick = () => {\n    fetch(\"http://localhost:8081/user\", {\n      method: 'POST',\n      body: JSON.stringify({\n        email: userEmail,\n        password: userPassword\n      }),\n      mode: 'cors',\n      headers: {\n        'Access-Control-Allow-Origin': '*',\n        'Content-Type': 'application/json'\n      }\n    }).then(response => response.json()).then(responseJSON => {\n      if (responseJSON) {\n        setUser(true);\n        setSearchParams({\n          filter: \"/\"\n        }); //window.pushState\n      } else {\n        setIsModelDisplayed(\"block\");\n        setTimeout(() => setIsModelDisplayed(\"none\"), 2000);\n      }\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container-title\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"material-symbols-outlined logo\",\n        children: \"bar_chart\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"title\",\n        children: \"VIDEOGAMES PRICE TRACKER\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"userPage-container\",\n      children: /*#__PURE__*/_jsxDEV(\"fieldset\", {\n        children: [/*#__PURE__*/_jsxDEV(\"legend\", {\n          children: \"userPage\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"userPage-field-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"user-email\",\n            children: \"email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            id: \"user-email\",\n            value: userEmail,\n            onChange: emailOnChange,\n            autoComplete: \"true\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"userPage-field-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"user-password\",\n            children: \"password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            id: \"user-password\",\n            value: userPassword,\n            onChange: passwordOnchange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"userPage-button-container\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: addUserOnClick,\n            children: \"Sign-In\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"userPage-modal\",\n      style: {\n        display: isModelDisplayed\n      },\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"email already exists\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 9\n  }, this);\n};\n\n_s(UserPage, \"DYwKp6ZesEN/p0GG3vO4z2hKnzo=\", false, function () {\n  return [useSearchParams];\n});\n\n_c = UserPage;\nexport default UserPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"UserPage\");","map":{"version":3,"names":["useState","useSearchParams","UserPage","setUser","searchParams","setSearchParams","userEmail","setUserEmail","userPassword","setUserPassword","isModelDisplayed","setIsModelDisplayed","emailOnChange","e","target","value","passwordOnchange","addUserOnClick","fetch","method","body","JSON","stringify","email","password","mode","headers","then","response","json","responseJSON","filter","setTimeout","display"],"sources":["C:/Users/AAAA/Desktop/corso/videogames_price_tracker/vpt_fe/src/pages/userPage/userPage.js"],"sourcesContent":["import { useState } from \"react\";\r\nimport { useSearchParams } from \"react-router-dom\";\r\n\r\nimport './userPage.css'\r\n\r\nconst UserPage = ({setUser = () => {}}) => {\r\n\r\n    let [searchParams, setSearchParams] = useSearchParams();\r\n    \r\n    const [userEmail, setUserEmail] = useState(\"\");\r\n    const [userPassword, setUserPassword] = useState(\"\");\r\n\r\n    const [isModelDisplayed, setIsModelDisplayed] = useState(\"none\")\r\n\r\n    const emailOnChange = e => setUserEmail(e.target.value);\r\n\r\n    const passwordOnchange = e => setUserPassword(e.target.value)\r\n\r\n    const addUserOnClick = () => {\r\n        fetch(\"http://localhost:8081/user\", {\r\n            method: 'POST',\r\n            body: JSON.stringify({\r\n                email: userEmail,\r\n                password: userPassword\r\n            }),\r\n            mode: 'cors',\r\n            headers: {\r\n            'Access-Control-Allow-Origin':'*',\r\n            'Content-Type': 'application/json'\r\n            }\r\n        })\r\n        .then(response => response.json())\r\n        .then(responseJSON => {\r\n            if (responseJSON) {\r\n                setUser(true);\r\n                setSearchParams({filter: \"/\"})\r\n                //window.pushState\r\n            }\r\n            else {\r\n                setIsModelDisplayed(\"block\");\r\n                setTimeout(() => setIsModelDisplayed(\"none\"), 2000)\r\n            }\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div className='container-title'>\r\n                    <span className=\"material-symbols-outlined logo\">bar_chart</span>\r\n                    <h1 className='title'>VIDEOGAMES PRICE TRACKER</h1>\r\n            </div>\r\n            <div id=\"userPage-container\">\r\n                <fieldset>\r\n                    <legend>userPage</legend>\r\n                    <div className=\"userPage-field-container\">\r\n                        <label htmlFor=\"user-email\">email</label>\r\n                        <input type=\"email\" id=\"user-email\" value={userEmail} onChange={emailOnChange} autoComplete=\"true\"/>\r\n                    </div>\r\n                    <div className=\"userPage-field-container\">\r\n                        <label htmlFor=\"user-password\">password</label>\r\n                        <input type=\"password\" id=\"user-password\" value={userPassword} onChange={passwordOnchange}/>\r\n                    </div>\r\n                    <div id=\"userPage-button-container\">\r\n                        <button type=\"button\" onClick={addUserOnClick}>Sign-In</button>\r\n                    </div>\r\n                </fieldset>\r\n            </div>\r\n            <div id=\"userPage-modal\" style={{display: isModelDisplayed}}>\r\n                <p>email already exists</p>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default UserPage;"],"mappings":"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"},"metadata":{},"sourceType":"module"}